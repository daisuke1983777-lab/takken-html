<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>宅建 民法 レベル中B（言い回し違い）20問</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans JP",sans-serif;margin:0;background:#f6f7f9}
header{background:#111;color:#fff;padding:16px 20px}
main{padding:16px;max-width:1100px;margin:auto}
.controls{background:#fff;border-radius:12px;padding:12px;display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.controls button{padding:10px 14px;border-radius:10px;border:1px solid #ddd;background:#fff;cursor:pointer}
.controls button.primary{background:#111;color:#fff;border-color:#111}
.controls button.warn{border-color:#e55;color:#e55}
.score{margin-left:auto;font-weight:700}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:16px}
.card{background:#fff;border-radius:14px;padding:14px;border:2px solid #e5e7eb}
.card.correct{border-color:#7cd992;background:#eefcf3}
.card.wrong{border-color:#f2a3a3;background:#fff1f1}
.qtitle{font-weight:700;margin-bottom:8px}
.opts label{display:block;padding:6px 0;cursor:pointer}
.explain{display:none;margin-top:10px;font-size:14px;color:#333}
textarea{width:100%;min-height:80px;border-radius:10px;border:1px solid #ddd;padding:8px}
footer{padding:16px;color:#666;font-size:12px}
@media(max-width:900px){.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<header>
  <h1>宅建 民法 レベル中B（言い回し違い）20問</h1>
  <div>1問1択／採点・解説・保存・復元すべて同一ページ。長文化（本試験想定）。</div>
</header>

<main>
  <div class="controls">
    <button class="primary" onclick="grade()">採点する</button>
    <button onclick="toggleExplain()">解説を表示</button>
    <button onclick="copyAnswers()">回答をコピー</button>
    <button onclick="saveAnswers()">回答を保存</button>
    <button onclick="restoreFromText()">回答を貼って復元</button>
    <button class="warn" onclick="resetAll()">リセット</button>
    <div class="score" id="score">未採点</div>
  </div>

  <div style="margin-top:10px">
    <div>復元用（必要なときだけ）</div>
    <textarea id="restoreBox" placeholder="ここに『回答をコピー』で出た文字列を貼り付けて復元"></textarea>
  </div>

  <div class="grid" id="quiz"></div>
</main>

<footer>
  ※保存は端末内（localStorage）。GitHub Pagesでそのまま閲覧可。
</footer>

<script>
const questions = [
/* 1 */
{q:"当事者の一方が、売買契約の内容について概ね理解した旨を口頭で示した段階において、相手方がこれを了承した場合に、民法上の契約成立時期として最も適切なものはどれか。",
 a:["書面が作成され署名押印が完了した時点でのみ成立する","重要事項の説明がすべて終了した後でなければ成立しない","当事者双方の意思が合致した時点で成立すると解する","代金の一部が支払われた時点で初めて成立する"],
 c:2,
 e:"契約は方式自由が原則。書面や支払は成立要件ではなく、意思の合致で成立。"},
/* 2 */
{q:"申込みに対し承諾の意思表示が到達した場合において、当該承諾が申込みの内容と軽微に異なるときの法律関係として正しいものはどれか。",
 a:["常に新たな申込みとして扱われる","申込みは失効し契約は成立しない","異なる部分を除き契約は成立する","原則として承諾は無効となる"],
 c:0,
 e:"内容の不一致があれば承諾とはならず、原則は新たな申込み。"},
/* 3 */
{q:"意思表示が相手方に到達した後に錯誤が判明した場合の取消しについて、民法の原則に照らし最も適切なものはどれか。",
 a:["常に無条件で取り消すことができる","重要な錯誤であれば取り消すことができる","過失がある場合でも必ず取り消せる","第三者に対しては常に主張できる"],
 c:1,
 e:"重要な錯誤であることが必要。第三者対抗には制限。"},
/* 4 */
{q:"詐欺による意思表示について、第三者との関係で取消しを主張できるか否かの判断として適切なものはどれか。",
 a:["第三者が善意であっても常に主張できる","第三者が悪意である場合に限り主張できる","第三者の善悪は問われない","第三者が善意無過失なら主張できる"],
 c:1,
 e:"詐欺取消しは、第三者が悪意の場合にのみ対抗可。"},
/* 5 */
{q:"制限行為能力者が単独で行った契約について、取り消し得る主体として最も適切なものはどれか。",
 a:["相手方のみ","本人のみ","法定代理人のみ","本人および法定代理人"],
 c:3,
 e:"取消権者は本人・法定代理人。"},
/* 6 */
{q:"意思表示の到達に関する説明として、民法の原則に合致するものはどれか。",
 a:["発信した時点で常に到達とみなす","相手方が現実に認識した時点で到達","相手方の支配圏に入った時点で到達","書面でなければ到達しない"],
 c:2,
 e:"到達主義。支配圏に入れば足りる。"},
/* 7 */
{q:"契約成立後に履行不能が生じた場合の効果として、原則的な説明として適切なものはどれか。",
 a:["常に契約は無効となる","解除や損害賠償の問題となる","自動的に代替履行が生じる","履行不能でも履行請求できる"],
 c:1,
 e:"無効ではなく、解除・損害賠償の問題。"},
/* 8 */
{q:"同時履行の抗弁に関する説明として正しいものはどれか。",
 a:["常に債務を免れることができる","相手の履行があるまで自己の履行を拒める","期限の定めがある場合でも使えない","第三者にも主張できる"],
 c:1,
 e:"同時履行は履行拒絶の抗弁。"},
/* 9 */
{q:"危険負担について、債権者主義が採用される場面として適切なものはどれか。",
 a:["常に債務者主義が適用される","特定物売買で債務者の帰責事由がない場合","不特定物売買の場合","債権者に帰責事由がある場合"],
 c:1,
 e:"特定物で債務者無責なら債権者主義。"},
/*10*/
{q:"手付に関する説明として、解約手付の効果を正しく述べたものはどれか。",
 a:["常に損害賠償の予定となる","履行に着手するまで解除できる","解除は書面でのみ可能","倍返しは無効である"],
 c:1,
 e:"履行着手前なら手付放棄・倍返しで解除可。"},
/*11*/
{q:"申込金と手付の区別に関し、民法上の位置づけとして最も適切なものはどれか。",
 a:["申込金は常に手付と同一","特約がなければ申込金は手付にならない","申込金は必ず返還されない","名称にかかわらず常に解約手付"],
 c:1,
 e:"特約がなければ申込金＝手付とはならない。"},
/*12*/
{q:"解除の意思表示の効力発生時期として正しいものはどれか。",
 a:["発信時","到達時","履行完了時","相手の承諾時"],
 c:1,
 e:"解除も意思表示。到達時。"},
/*13*/
{q:"無効と取消しの効果の違いとして適切なものはどれか。",
 a:["どちらも追認できない","無効は最初から効力がない","取消しは常に遡及しない","無効は第三者にのみ主張不可"],
 c:1,
 e:"無効は初めから無効。"},
/*14*/
{q:"条件付法律行為に関する説明として正しいものはどれか。",
 a:["条件成就前でも当然に効力が生じる","停止条件付は条件成就で効力発生","解除条件付は成就で効力発生","条件は禁止されている"],
 c:1,
 e:"停止条件は成就で効力発生。"},
/*15*/
{q:"代理権の濫用に関する説明として適切なものはどれか。",
 a:["常に本人に効果帰属","相手方が悪意の場合に本人に帰属","代理人の内心は無関係","表見代理となる"],
 c:1,
 e:"相手方悪意なら本人帰属。"},
/*16*/
{q:"表見代理が成立するための要件として最も適切なものはどれか。",
 a:["本人の帰責性は不要","相手方の善意無過失","代理人の悪意","常に書面が必要"],
 c:1,
 e:"相手方善意無過失が要件。"},
/*17*/
{q:"債権譲渡における対抗要件として正しいものはどれか。",
 a:["口頭通知","確定日付ある通知または承諾","登記","公示送達"],
 c:1,
 e:"確定日付が必要。"},
/*18*/
{q:"連帯債務に関する説明として正しいものはどれか。",
 a:["各債務者は分割でのみ履行","一人の履行で全員免責","一人の時効中断は他に及ばない","常に等分負担"],
 c:1,
 e:"一人の履行で全員免責。"},
/*19*/
{q:"時効の完成猶予と更新についての説明として正しいものはどれか。",
 a:["完成猶予は時効期間をゼロに戻す","更新は新たに時効が進行する","完成猶予は効果がない","更新と猶予は同義"],
 c:1,
 e:"更新で新たに進行。"},
/*20*/
{q:"不当利得の成立要件として最も適切なものはどれか。",
 a:["法律上の原因がない利得","常に損害の発生","故意過失","契約の存在"],
 c:0,
 e:"法律上の原因なき利得が要件。"}
];

const quiz = document.getElementById('quiz');
questions.forEach((o,i)=>{
  const c=document.createElement('div');
  c.className='card';
  c.id='q'+(i+1);
  c.innerHTML=`<div class="qtitle">Q${i+1}</div><div>${o.q}</div>
  <div class="opts">${o.a.map((t,j)=>`
    <label><input type="radio" name="q${i+1}" value="${j}"> ${String.fromCharCode(65+j)}. ${t}</label>`).join('')}
  </div><div class="explain"><b>解説：</b>${o.e}</div>`;
  quiz.appendChild(c);
});

function grade(){
  let ok=0;
  questions.forEach((o,i)=>{
    const card=document.getElementById('q'+(i+1));
    card.classList.remove('correct','wrong');
    const v=document.querySelector(`input[name="q${i+1}"]:checked`);
    if(v && Number(v.value)===o.c){ok++;card.classList.add('correct');}
    else{card.classList.add('wrong');}
  });
  document.getElementById('score').textContent=`合計：20問中 ${ok} 正解`;
}
function toggleExplain(){
  document.querySelectorAll('.explain').forEach(e=>{
    e.style.display = (e.style.display==='block'?'none':'block');
  });
}
function copyAnswers(){
  const arr=[];
  questions.forEach((_,i)=>{
    const v=document.querySelector(`input[name="q${i+1}"]:checked`);
    arr.push(`Q${i+1}:${v?String.fromCharCode(65+Number(v.value)):'-'}`);
  });
  const s=arr.join(',');
  navigator.clipboard.writeText(s);
  document.getElementById('restoreBox').value=s;
}
function saveAnswers(){
  const data={};
  questions.forEach((_,i)=>{
    const v=document.querySelector(`input[name="q${i+1}"]:checked`);
    if(v) data['q'+(i+1)]=v.value;
  });
  localStorage.setItem('minpo_midB',JSON.stringify(data));
  alert('保存しました');
}
function restoreFromText(){
  const t=document.getElementById('restoreBox').value.trim();
  if(!t) return;
  t.split(',').forEach(p=>{
    const [q,a]=p.split(':');
    if(a && a!=='-'){
      const idx=a.charCodeAt(0)-65;
      const el=document.querySelector(`input[name="${q}"][value="${idx}"]`);
      if(el) el.checked=true;
    }
  });
}
function resetAll(){
  document.querySelectorAll('input[type=radio]').forEach(i=>i.checked=false);
  document.querySelectorAll('.card').forEach(c=>c.classList.remove('correct','wrong'));
  document.getElementById('score').textContent='未採点';
}
(function load(){
  const s=localStorage.getItem('minpo_midB');
  if(!s) return;
  const d=JSON.parse(s);
  Object.keys(d).forEach(k=>{
    const el=document.querySelector(`input[name="${k}"][value="${d[k]}"]`);
    if(el) el.checked=true;
  });
})();
</script>
</body>
</html>
